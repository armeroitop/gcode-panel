<div class="cruceta">
    <button onclick="mover(-10,10)"><i class="bi bi-arrow-up-left"></i></button>
    <button onclick="mover(0,10)"><i class="bi bi-arrow-up"></i></button>
    <button onclick="mover(10,10)"><i class="bi bi-arrow-up-right"></i></button>

    <button onclick="mover(-10,0)"><i class="bi bi-arrow-left"></i></button>
    <button><i class="bi bi-bolt"></i> 10 </button> <!-- Centro -->
    <button onclick="mover(10,0)"><i class="bi bi-arrow-right"></i></button>

    <button onclick="mover(-10,-10)"><i class="bi bi-arrow-down-left"></i></button>
    <button onclick="mover(0,-10)"><i class="bi bi-arrow-down"></i></button>
    <button onclick="mover(10,-10)"><i class="bi bi-arrow-down-right"></i></button>
</div>

<div class="mt-3" style="display: grid; grid-template-columns: repeat(3, 60px); gap: 5px;">
    <button onclick="enviarComando('M1')"><i class="bi bi-arrow-up"></i></button>
    <button onclick="enviarComando('M999')"><i class="bi bi-plug"></i></button>
    <button onclick="enviarComando('M2')"><i class="bi bi-arrow-down"></i></button>
</div>

<button id="botonStop" class="btn btn-primary mt-2" style="width: 190px; height: 60px;">STOP</button>


<script>

    let estaParadoPorEmergencia = false;

    function comportamientoBotonStop() {
        btn_stop = document.querySelector('#botonStop');
        actualizarEstadoBotonStop(estaParadoPorEmergencia);

        btn_stop.addEventListener('click', function () {
            console.log('BotÃ³n STOP presionado ' + estaParadoPorEmergencia);
            estaParadoPorEmergencia = !estaParadoPorEmergencia;
            actualizarEstadoBotonStop(estaParadoPorEmergencia);
        });

    }

    function actualizarEstadoBotonStop() {
        btn_stop = document.querySelector('#botonStop');

        if (!estaParadoPorEmergencia) {
            btn_stop.classList.remove('btn-danger');
            btn_stop.classList.add('btn-primary');
            btn_stop.textContent = 'PARAR';
        } else {
            btn_stop.classList.remove('btn-primary');
            btn_stop.classList.add('btn-danger');
            btn_stop.textContent = 'REANUDAR';
        }
    }

    // Cuando se recarga la vista "/inicio" tengo que meterle este evento
    document.addEventListener("/", () => {
        console.log("disparo de evento vista /inicio");

        comportamientoBotonStop();
    });


</script>